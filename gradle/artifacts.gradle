def jarManifest = [
        "Specification-Title"     : "${mod_id}",
        "Specification-Vendor"    : "${mod_authors}",
        "Specification-Version"   : '1',
        "Implementation-Title"    : "${mod_name}",
        "Implementation-Version"  : "${mod_version}",
        "Implementation-Vendor"   : "${mod_authors}",
        "Implementation-Timestamp": new Date().format("yyyy-MM-dd'T'HH:mm:ssZ"),
]

jar {
    manifest { attributes(jarManifest) }
}

task sourcesJar(type: Jar, dependsOn: classes) {
    archiveClassifier = 'sources'
    from sourceSets.main.allSource
    manifest { attributes(jarManifest) }
}

artifacts {
    archives sourcesJar
}

tasks.build.dependsOn('sourcesJar')
